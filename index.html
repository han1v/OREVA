<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>OREVA OCR â€“ Free Image & PDF to Searchable Text</title>

<!-- SEO -->
<meta name="description" content="OREVA OCR converts images and PDFs into searchable, editable text. Download OCR-applied images and searchable PDFs. 100% free & privacy-first.">
<meta name="keywords" content="free ocr, image to text, pdf ocr, searchable pdf, camera ocr, online ocr tool">
<meta name="robots" content="index, follow">

<!-- Open Graph -->
<meta property="og:title" content="OREVA OCR â€“ Free OCR Tool">
<meta property="og:description" content="Convert non-OCR images and PDFs into searchable files directly in your browser.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://orevaorg.github.io/OREVA/">
<meta property="og:image" content="https://orevaorg.github.io/OREVA/logo.PNG">

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XBGF03C7C1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XBGF03C7C1', { anonymize_ip: true });
</script>

<!-- Libraries -->
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
body {
  margin: 0;
  font-family: system-ui, Arial, sans-serif;
  background: #0f172a;
  color: white;
  text-align: center;
}
.container {
  max-width: 520px;
  margin: auto;
  padding: 20px;
}
.logo {
  width: 80px;
}
button {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
}
button:disabled {
  background: #475569;
}
textarea {
  width: 100%;
  height: 180px;
  margin-top: 15px;
  border-radius: 8px;
  padding: 10px;
}
.note {
  font-size: 0.75rem;
  opacity: 0.7;
  margin-top: 10px;
}
</style>
</head>

<body>

<div class="container">
  <img src="logo.PNG" class="logo">
  <h1>OREVA OCR</h1>
  <p>Image â€¢ PDF â†’ Searchable Files</p>

  <input type="file" id="fileInput" accept="image/*,.pdf">

  <button id="processBtn">Apply OCR</button>

  <textarea id="output" placeholder="Extracted text will appear here..."></textarea>

  <button id="downloadText" disabled>Download Text (.txt)</button>
  <button id="downloadFile" disabled>Download OCR File</button>

  <div class="note">
    ðŸ”’ All processing runs locally in your browser.
  </div>
</div>

<script>
const fileInput = document.getElementById("fileInput");
const output = document.getElementById("output");
const processBtn = document.getElementById("processBtn");
const downloadTextBtn = document.getElementById("downloadText");
const downloadFileBtn = document.getElementById("downloadFile");

let extractedText = "";
let finalBlob = null;

processBtn.onclick = async () => {
  const file = fileInput.files[0];
  if (!file) return alert("Upload an image or PDF");

  processBtn.textContent = "Processing...";
  extractedText = "";

  if (file.type === "application/pdf") {
    const reader = new FileReader();
    reader.onload = async () => {
      const pdf = await pdfjsLib.getDocument(reader.result).promise;
      const { jsPDF } = window.jspdf;
      const pdfOut = new jsPDF();

      for (let i = 1; i <= pdf.numPages; i++) {
        const page = await pdf.getPage(i);
        const viewport = page.getViewport({ scale: 2 });
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = viewport.width;
        canvas.height = viewport.height;
        await page.render({ canvasContext: ctx, viewport }).promise;

        const { data: { text } } = await Tesseract.recognize(canvas, "eng");
        extractedText += text + "\n\n";

        if (i > 1) pdfOut.addPage();
        pdfOut.text(text, 10, 10);
      }

      finalBlob = pdfOut.output("blob");
      finish();
    };
    reader.readAsArrayBuffer(file);
  } else {
    const { data: { text } } = await Tesseract.recognize(file, "eng");
    extractedText = text;
    finalBlob = file;
    finish();
  }
};

function finish() {
  output.value = extractedText;
  processBtn.textContent = "Apply OCR";
  downloadTextBtn.disabled = false;
  downloadFileBtn.disabled = false;
}

downloadTextBtn.onclick = () => {
  const blob = new Blob([extractedText], { type: "text/plain" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "oreva-ocr-text.txt";
  a.click();
};

downloadFileBtn.onclick = () => {
  const a = document.createElement("a");
  a.href = URL.createObjectURL(finalBlob);
  a.download = "oreva-ocr-file";
  a.click();
};
</script>

</body>
</html>
